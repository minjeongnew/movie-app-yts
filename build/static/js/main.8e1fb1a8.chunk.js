(this.webpackJsonpproj3=this.webpackJsonpproj3||[]).push([[0],{20:function(e,t,a){e.exports=a(47)},26:function(e,t,a){},27:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),c=a(14),r=a.n(c),s=a(2),l=a.n(s),o=a(4),m=a(15),u=a(16),v=a(19),p=a(17);a(26);var d=function(e){e.id;var t=e.like,a=e.title,n=e.poster,c=e.rating,r=e.genres,s=e.runtime,l=e.summary,o=e.year;return i.a.createElement("div",{className:"movie"},i.a.createElement("img",{src:n,alt:a,titlt:a}),i.a.createElement("p",{className:"movie__year"},i.a.createElement("span",null,o," \ub144\ub3c4 \uac1c\ubd09")),i.a.createElement("div",{className:"movie__data"},i.a.createElement("h3",{className:"movie__title"},a.replace(/<b>/gi,"").replace(/<\/b>/gi,"")),i.a.createElement("p",{className:"movie__genres"},i.a.createElement("span",null)," ",r.join()),i.a.createElement("p",{className:"p_info"},"\uc601\ud654 \uc815\ubcf4"),i.a.createElement("p",{className:"movie__rating"},i.a.createElement("span",null,"\ud3c9\uc810")," ",c),i.a.createElement("p",{className:"movie__like"},i.a.createElement("span",null,"\uc88b\uc544\uc694")," ",t),i.a.createElement("p",{className:"movie__runtime"},i.a.createElement("span",null,"\ub7ec\ub2dd\ud0c0\uc784")," ",s),i.a.createElement("p",{className:"p_summary"},"\uc904\uac70\ub9ac"),i.a.createElement("p",{className:"movie__summary"},i.a.createElement("span",null)," ",l)))},g=(a(27),a(3)),h=a.n(g),E=h.a.create({baseURL:"/yts"}),_=function(e){var t=e.split(" ")[0],a=e.split(" ")[1];return"like"===t?E.get("/yts/api/v2/list_movies.json?sort_by=like_count&order_by=desc&limit=".concat(a)):E.get("/yts/api/v2/list_movies.json?sort_by=".concat(t,"&order_by=desc&limit=").concat(a))},f=(a(45),function(e){var t=e.idx,a=e.img,n=e.callback;return i.a.createElement("button",{className:"Button",index:t,onClick:n},i.a.createElement("img",{src:a,style:{width:"95px"}}))}),k=a(18),b=function(e){Object(v.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={isLoading:!1,movies:[],value:"",name:"\uc601\ud654 \uac80\uc0c9",like:"",clicked:!1,clickedIndex:0,currentMovie:{}},e.getSearchMovie=Object(o.a)(l.a.mark((function t(){var a,n,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("search Movie"),a=e.state.value,console.log(e.state),t.prev=3,""!==a){t.next=8;break}e.setState({movies:[],isLoading:!1}),t.next=17;break;case 8:return e.setState({movies:[],isLoading:!0}),t.next=11,_(a);case 11:n=t.sent,alert("(Loading \uba54\uc2dc\uc9c0 \ud655\uc778\uc911...)"),console.log(n),i=n.data.data.movies,console.log(i),e.setState({movies:i,isLoading:!1});case 17:t.next=22;break;case 19:t.prev=19,t.t0=t.catch(3),console.log(t.t0);case 22:case"end":return t.stop()}}),t,null,[[3,19]])}))),e.getLike=function(){var t=Object(o.a)(l.a.mark((function t(a){var n,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.get("https://movie-app-2021.herokuapp.com/yts/api/v2/movie_details.json?movie_id=".concat(a,"&with_images=true&with_cast=true"));case 2:n=t.sent,i=n.data.data.movie.like_count,e.setState({like:i}),console.log(i);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleChange=function(t){e.setState({value:t.target.value})},e.onClickHandler=function(t){t.preventDefault(),e.setState({clicked:!0})},e.handleSubmit=function(t){t.preventDefault(),e.getSearchMovie()},e.buttonClick=function(t){console.log("id:",e.state.movies[t].id),e.getLike(e.state.movies[t].id),e.setState({clicked:!0}),e.setState({currentMovie:e.state.movies[t]})},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.getSearchMovie()}},{key:"render",value:function(){var e=this,t=this.state,a=t.movies,n=t.isLoading,c=(t.name,t.like),r=t.clicked,s=t.currentMovie;return i.a.createElement("section",{className:"container"},n?i.a.createElement("div",{className:"loader"},i.a.createElement("span",{className:"loader__text"},"(",this.state.name,") Loading... ",this.state.value)):i.a.createElement("form",{className:"form-search",onSubmit:this.handleSubmit},i.a.createElement("div",null,i.a.createElement("div",{className:"input_div"},i.a.createElement("input",{className:"input_search",type:"text",value:this.state.value,onChange:this.handleChange,placeholder:"\uc785\ub825\ud3ec\ub9f7: <\uc815\ub82c\uae30\uc900> <\uac80\uc0c9\uae30\uc900> \uc608:like 5"}),i.a.createElement("button",{type:"submit",className:"input-button"},i.a.createElement(k.a,null))),i.a.createElement("div",{className:"buttons"},a.map((function(t,a){return i.a.createElement(f,{idx:a,img:t.medium_cover_image,callback:function(t){e.buttonClick(a),t.preventDefault()},key:a})}))),r?i.a.createElement(d,{key:s.id,id:s.id,year:s.year,genres:s.genres,runtime:s.runtime,summary:s.summary,title:s.title,poster:s.background_image_original,like:c,rating:s.rating}):"")))}}]),a}(i.a.Component),y=(a(46),function(e){var t=e.children;return i.a.createElement("div",{className:"MovieTemplate"},i.a.createElement("div",{className:"app-title"},"yts.mx \uc601\ud654 \uc815\ubcf4"),i.a.createElement("div",{className:"content"},t))});var N=function(){return i.a.createElement(y,null,i.a.createElement(b,null))};r.a.render(i.a.createElement(N,null),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.8e1fb1a8.chunk.js.map