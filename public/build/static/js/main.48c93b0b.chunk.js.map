{"version":3,"sources":["components/Movie.js","api.js","components/Button.js","components/Search.js","components/MovieTemplate.js","App.js","index.js"],"names":["Movie","id","like","title","poster","rating","genres","runtime","summary","year","className","src","alt","titlt","replace","join","api","axios","create","baseURL","getSearchMovieAPI","search","sb","split","limit","get","Button","idx","img","callback","index","onClick","style","Search","state","isLoading","movies","value","name","clicked","clickedIndex","currentMovie","getSearchMovie","a","console","log","setState","items","alert","movie_list","data","getLike","detail","movie","like_count","handleChange","e","target","onClickHandler","preventDefault","handleSubmit","buttonClick","this","onSubmit","type","onChange","placeholder","map","medium_cover_image","key","background_image_original","React","Component","MovieTemplate","children","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.48c93b0b.chunk.js","sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"./Movie.css\";\n\nfunction Movie({id, like, title, poster, rating, genres, runtime, summary, year}) {\n  return (\n    <div className=\"movie\">\n    {/*<a href={id} target=\"_blank\">*/}\n      <img src={poster} alt={title} titlt={title}></img>\n      <p className=\"movie__year\">\n        <span>{year} 년도 개봉</span>\n      </p>\n    <div className=\"movie__data\">\n\n      <h3 className=\"movie__title\">{\n          title.replace(/<b>/gi,\"\").replace(/<\\/b>/gi,\"\")\n        }</h3>\n\n      <p className=\"movie__genres\">\n        <span></span> {genres.join()}\n      </p>\n      <p className=\"p_info\">영화 정보</p>\n      <p className=\"movie__rating\">\n        <span>평점</span> {rating}\n      </p>\n      <p className=\"movie__like\">\n        <span>좋아요</span> {like}\n      </p>\n\n    <p className=\"movie__runtime\">\n      <span>러닝타임</span> {runtime}\n    </p>\n      <p className=\"p_summary\">줄거리</p>\n    <p className=\"movie__summary\">\n      <span></span> {summary}\n    </p>\n    </div>\n  {/*</a>*/}\n  </div>\n  )\n};\n\nMovie.propTypes = {\n  id: PropTypes.number.isRequired,\n  genres: PropTypes.array.isRequired,\n  title: PropTypes.string.isRequired,\n  poster: PropTypes.string.isRequired,\n  rating: PropTypes.number.isRequired,\n  summary: PropTypes.string.isRequired\n\n};\n\nexport default Movie;\n","import axios from 'axios';\n\nconst api = axios.create({\n  baseURL: '/yts',\n  // headers: {\n  //   // 'X-Naver-Client-Id': ID_KEY,\n  //   // 'X-Naver-Client-Secret': SECRET_KEY,\n  // }\n});\nexport const getSearchMovieAPI = {\n  search : search => {\n    let sb = search.split(\" \")[0]\n    let limit = search.split(\" \")[1]\n    if (sb === \"like\") {\n      return api.get(`/yts/api/v2/list_movies.json?sort_by=like_count&order_by=desc&limit=${limit}`)\n    } else {\n      return api.get(`/yts/api/v2/list_movies.json?sort_by=${sb}&order_by=desc&limit=${limit}`)\n    }\n}\n\n};\n","import React from 'react';\nimport './Button.css';\n\nconst Button = ({ idx, img, callback}) => {\n    return (\n        <button\n            className=\"Button\"\n            index={idx}\n            onClick={callback}>\n\n            <img src={img} style={{'width':'95px'}} />\n        </button>\n    );\n};\n\nexport default Button;\n","import React from 'react';\nimport Movie from './Movie';\nimport \"./Search.scss\";\nimport {getSearchMovieAPI} from '../api';\nimport Button from './Button'\nimport { MdAdd } from 'react-icons/md';\nimport axios from 'axios';\n\n\nclass Search extends React.Component {\n  state = {\n    isLoading: false,\n    movies: [],\n    value: \"\",\n    name: \"영화 검색\",\n    like: '',\n    clicked:false,\n    clickedIndex:0,\n    currentMovie : {}\n  };\n\n  getSearchMovie = async () => {\n    console.log('search Movie');\n    const search = this.state.value;\n    console.log(this.state)\n    // console.log(this.state.value.split(\" \"))\n\n\n    try {\n      if (search === \"\") {\n        this.setState({movies: [], isLoading: false})\n      } else {\n        this.setState({movies: [], isLoading: true})\n        const items = await getSearchMovieAPI.search(search)\n\n        alert(\"(Loading 메시지 확인중...)\");\n        console.log(items)\n        let movie_list = items.data.data.movies;\n        console.log(movie_list);\n        this.setState({movies: movie_list, isLoading: false});\n\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  getLike = async(id) => {\n    const detail = await axios.get(`https://movie-app-2021.herokuapp.com/yts/api/v2/movie_details.json?movie_id=${id}&with_images=true&with_cast=true`)\n    const like = detail.data.data.movie.like_count;\n    this.setState({like: like})\n    console.log(like)\n\n  }\n  componentDidMount() {\n    this.getSearchMovie();\n  };\n\n  handleChange = (e : any) => {\n    this.setState({value: e.target.value});\n    // this.getLike()\n    // console.log(e.target.value)\n  };\n  onClickHandler = (e:any) => {\n    e.preventDefault();\n    this.setState({clicked: true});\n\n  }\n  handleSubmit = (e : any) => {\n    e.preventDefault();\n    this.getSearchMovie();\n  };\n\n\n  buttonClick = (index) => {\n    // e.preventDefault();\n\n    console.log(\"id:\",this.state.movies[index].id)\n    this.getLike(this.state.movies[index].id)\n    this.setState({clicked:true})\n    this.setState({currentMovie:this.state.movies[index]})\n  }\n  render() {\n    const {movies, isLoading, name, like, clicked, currentMovie} = this.state;\n\n    return (<section className=\"container\">\n      {\n        isLoading\n          ? (<div className=\"loader\">\n            <span className=\"loader__text\">({this.state.name}) Loading... {this.state.value}</span>\n          </div>)\n          : (<form className=\"form-search\" onSubmit={this.handleSubmit}>\n            <div>\n              <div className=\"input_div\">\n                {/*<h1>영화 검색</h1>*/}\n                <input className=\"input_search\"\n                       type=\"text\"\n                       value={this.state.value}\n                       onChange={this.handleChange}\n                       placeholder=\"입력포맷: <정렬기준> <검색기준> 예:like 5\"/>\n                <button type=\"submit\" className=\"input-button\">\n                  <MdAdd />\n                </button>\n              </div>\n              <div className=\"buttons\">\n                {movies.map((movie, index) =>\n                        (<Button idx={index}\n                                 img={movie.medium_cover_image}\n                                 callback={(e)=>{\n                                   this.buttonClick(index);\n                                   e.preventDefault()}}\n                                 key={index}>\n                        </Button>)\n                )}\n\n              </div>\n              {clicked? <Movie key={currentMovie.id}\n                               id={currentMovie.id}\n                               year={currentMovie.year}\n                               genres={currentMovie.genres}\n                               runtime={currentMovie.runtime}\n                               summary={currentMovie.summary}\n                               title={currentMovie.title}\n                               poster={currentMovie.background_image_original}\n                               like={like}\n                               rating={currentMovie.rating}\n                              ></Movie>\n                               :''}\n            </div>\n          </form>)\n      }\n    </section>);\n  }\n}\n\nexport default Search;\n","import React from 'react';\nimport './MovieTemplate.scss';\n\nconst MovieTemplate = ({ children }) => {\n    return (\n        <div className=\"MovieTemplate\">\n            <div className=\"app-title\">yts.mx 영화 정보</div>\n            <div className=\"content\">{children}</div>\n        </div>\n    );\n};\n\nexport default MovieTemplate;\n","import React, {useState} from 'react';\nimport Search from \"./components/Search\"\nimport MovieTemplate from \"./components/MovieTemplate\";\n\nfunction App(){\n  return (\n      <MovieTemplate>\n\n        <Search></Search>\n      </MovieTemplate>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}